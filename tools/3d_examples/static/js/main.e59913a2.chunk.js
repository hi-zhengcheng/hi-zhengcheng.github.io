(this.webpackJsonpthree=this.webpackJsonpthree||[]).push([[0],{48:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var a=n(7),o=n(0),i=n.n(o),r=n(22),d=n.n(r),l=(n(48),n(2)),s=n(6),c=n(4),p=n(5),u=n(10),h=n(1),m=n(23),b=n(35),v=function(e){Object(c.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).rootDiv=i.a.createRef(),a.controllerDiv=i.a.createRef(),a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e={speedX:0,speedY:0,speedZ:0,lightX:40,lightY:10,lightZ:40,materialColor:65280,texture:null,showTexture:!0},t=new h.L;t.setSize(window.innerWidth,window.innerHeight),this.rootDiv.appendChild(t.domElement);var n=new h.y(75,window.innerWidth/window.innerHeight,.1,1e3);n.position.set(2,1,10),n.lookAt(0,0,0);var a=new h.E,o=new h.c(1,1,1),i=new h.w({color:e.materialColor});(new h.I).load("./wall.jpg",(function(t){e.texture=t,e.showTexture&&(i.map=t,i.needsUpdate=!0)}));var r=new h.v(o,i);a.add(r);var d=new h.z(16777215);d.position.set(e.lightX,e.lightY,e.lightZ),a.add(d);var l=new h.b(5);a.add(l);var s=new b.a(n,t.domElement);!function o(){requestAnimationFrame(o),s.update(),r.rotation.x+=e.speedX,r.rotation.y+=e.speedY,r.rotation.z+=e.speedZ,n.updateProjectionMatrix(),t.render(a,n)}();var c=new m.a.gui.GUI({autoPlace:!1}),p=c.addFolder("camera projection");p.add(n,"fov").min(30).max(120).step(5),p.open();var u=c.addFolder("light position");u.add(d.position,"x").min(-40).max(40).step(5),u.add(d.position,"y").min(-40).max(40).step(5),u.add(d.position,"z").min(-40).max(40).step(5),u.open();var v=c.addFolder("rotate speed");v.add(e,"speedX").min(0).max(.1).step(.005),v.add(e,"speedY").min(0).max(.1).step(.005),v.add(e,"speedZ").min(0).max(.1).step(.005),v.open();var j=c.addFolder("cube");j.addColor(e,"materialColor").name("color").onChange((function(){i.color.set(e.materialColor)})),j.add(i,"wireframe"),j.add(e,"showTexture").onChange((function(t){i.map=t?e.texture:null,i.needsUpdate=!0})),j.open();var f=c.addFolder("show axes");f.add(l,"visible"),f.open(),this.controllerDiv.append(c.domElement)}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{style:{position:"absolute",top:0},children:[Object(a.jsx)("div",{ref:function(t){return e.rootDiv=t}}),Object(a.jsx)("div",{ref:function(t){return e.controllerDiv=t},style:{position:"absolute",right:0,top:0}})]})}}]),n}(o.Component),j=n(26),f=function(e){Object(c.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).rootDiv=i.a.createRef(),a.controllerDiv=i.a.createRef(),a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e={speedX:.001,speedY:.001,speedZ:0,lightX:40,lightY:10,lightZ:40,materialColor:16777215,texture:null,showTexture:!0},t=new h.L;t.setSize(window.innerWidth,window.innerHeight),this.rootDiv.appendChild(t.domElement);var n=new h.y(45,window.innerWidth/window.innerHeight,.1,1e3);n.position.set(0,0,1.5),n.lookAt(0,0,0);var a=new h.E,o=new h.F(.5,32,32),i=new h.x({color:e.materialColor});(new h.I).load("./earth/2_no_clouds_8k.jpg",(function(t){e.texture=t,e.showTexture&&(i.map=t,i.needsUpdate=!0)}));var r=new h.v(o,i);a.add(r),a.add(new h.a(6710886));var d=new h.g(16777215,1);d.position.set(5,3,5),a.add(d);var l=new h.b(5);a.add(l);var s=new j.a(n,t.domElement);!function o(){requestAnimationFrame(o),s.update(),r.rotation.x+=e.speedX,r.rotation.y+=e.speedY,r.rotation.z+=e.speedZ,n.updateProjectionMatrix(),t.render(a,n)}();var c=new m.a.gui.GUI({autoPlace:!1}),p=c.addFolder("camera projection");p.add(n,"fov").min(30).max(120).step(5),p.open();var u=c.addFolder("light position");u.add(d.position,"x").min(-40).max(40).step(5),u.add(d.position,"y").min(-40).max(40).step(5),u.add(d.position,"z").min(-40).max(40).step(5),u.open();var b=c.addFolder("rotate speed");b.add(e,"speedX").min(0).max(.1).step(.005),b.add(e,"speedY").min(0).max(.1).step(.005),b.add(e,"speedZ").min(0).max(.1).step(.005),b.open();var v=c.addFolder("earth");v.addColor(e,"materialColor").name("color").onChange((function(){i.color.set(e.materialColor)})),v.add(i,"wireframe"),v.add(e,"showTexture").onChange((function(t){i.map=t?e.texture:null,i.needsUpdate=!0})),v.open();var f=c.addFolder("show axes");f.add(l,"visible"),f.open(),this.controllerDiv.append(c.domElement)}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{style:{position:"absolute",top:0},children:[Object(a.jsx)("div",{ref:function(t){return e.rootDiv=t}}),Object(a.jsx)("div",{ref:function(t){return e.controllerDiv=t},style:{position:"absolute",right:0,top:0}})]})}}]),n}(o.Component),w=n(33),g=n(40),O=n(29),x=n(72),C=n(73),y=n(74),F=function(e){Object(c.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e,t=[],n=Object(g.a)([{path:"/cube",primary:"Cube"},{path:"/earth",primary:"Earth"},{path:"/airplane",primary:"Airplane"},{path:"/pointcloud",primary:"Pointcloud"}].entries());try{for(n.s();!(e=n.n()).done;){var o=Object(w.a)(e.value,2),i=o[0],r=o[1];t.push(Object(a.jsx)(C.a,{button:!0,component:O.b,to:r.path,children:Object(a.jsx)(y.a,{primary:r.primary})},i))}}catch(d){n.e(d)}finally{n.f()}return Object(a.jsx)(x.a,{component:"nav","aria-label":"secondary mailbox folders",children:t})}}]),n}(o.Component),_=n(41),D=n(38),k=function(e){Object(c.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).rootDiv=null,a.controllerDiv=null,a.currentObj3d=null,a.materials=null,a.scene=null,a.renderer=null,a.directLight=null,a.ambientLight=null,a.paramObj={scale:1,translateX:0,translateY:0,translateZ:0,bg_color:16777215,direct_light_color:16777215,ambient_light_color:1123942},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=new h.L;e.setSize(window.innerWidth,window.innerHeight),e.setClearColor(this.paramObj.bg_color,1),this.rootDiv.appendChild(e.domElement),this.renderer=e;var t=new h.y(45,window.innerWidth/window.innerHeight,.1,1e4);t.position.set(10,5,1e3),t.lookAt(0,0,0);var n=new h.E;this.scene=n,(new _.a).load("./modelnet40/airplane_0726_SMPL.mtl",function(e){this.materials=e,e.preload(),(new D.a).setMaterials(e).load("./modelnet40/airplane_0726_SMPL.obj",function(e){e.scale.set(this.paramObj.scale,this.paramObj.scale,this.paramObj.scale),e.position.set(this.paramObj.translateX,this.paramObj.translateY,this.paramObj.translateZ),this.scene.add(e),this.currentObj3d=e}.bind(this))}.bind(this));var a=new h.a(this.paramObj.ambient_light_color);n.add(a),this.ambientLight=a;var o=new h.g(this.paramObj.direct_light_color,1);o.position.set(5,3,5),n.add(o),this.directLight=o;var i=new h.b(2e3);n.add(i);var r=new j.a(t,e.domElement);!function a(){requestAnimationFrame(a),r.update(),t.updateProjectionMatrix(),e.render(n,t)}();var d=new m.a.gui.GUI({autoPlace:!1});d.addColor(this.paramObj,"bg_color").name("bg color").onChange(function(e){this.renderer.setClearColor(e,1)}.bind(this)),d.addColor(this.paramObj,"ambient_light_color").name("ambient").onChange(function(e){this.ambientLight.color.set(e)}.bind(this));var l=d.addFolder("camera projection");l.add(t,"fov").min(30).max(120).step(5),l.open();var s=d.addFolder("light position");s.add(o.position,"x").min(-40).max(40).step(5),s.add(o.position,"y").min(-40).max(40).step(5),s.add(o.position,"z").min(-40).max(40).step(5),s.addColor(this.paramObj,"direct_light_color").name("color").onChange(function(e){this.directLight.color.set(e)}.bind(this)),s.open();var c=d.addFolder("object");c.add(this.paramObj,"scale").min(.001).max(10).step(.001).onChange(function(e){this.currentObj3d&&this.currentObj3d.scale.set(e,e,e)}.bind(this)),c.add(this.paramObj,"translateX").min(-1e3).max(1e3).step(1).onChange(function(e){this.currentObj3d&&this.currentObj3d.position.setX(e)}.bind(this)),c.add(this.paramObj,"translateY").min(-1e3).max(1e3).step(1).onChange(function(e){this.currentObj3d&&this.currentObj3d.position.setY(e)}.bind(this)),c.add(this.paramObj,"translateZ").min(-1e3).max(1e3).step(1).onChange(function(e){this.currentObj3d&&this.currentObj3d.position.setZ(e)}.bind(this)),c.open();var p=d.addFolder("axes");p.add(i,"visible"),p.open();var u=d.addFolder("upload"),b={loadFile:function(){document.getElementById("uploadButton").click()}};u.add(b,"loadFile").name("Load obj file"),u.open(),this.controllerDiv.append(d.domElement)}},{key:"newFileCallback",value:function(){var e=this,t=document.getElementById("uploadButton").files[0],n=new FileReader;n.addEventListener("load",(function(t){var n=t.target.result,a=(new D.a).setMaterials(e.materials).parse(n);a?(a.scale.set(e.paramObj.scale,e.paramObj.scale,e.paramObj.scale),a.position.set(e.paramObj.translateX,e.paramObj.translateY,e.paramObj.translateZ),e.scene.add(a),e.scene.remove(e.currentObj3d),e.currentObj3d=a,alert("success")):alert("Load error")}),!1),n.readAsText(t)}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{style:{position:"absolute",top:0},children:[Object(a.jsx)("div",{ref:function(t){return e.rootDiv=t}}),Object(a.jsx)("div",{ref:function(t){return e.controllerDiv=t},style:{position:"absolute",right:0,top:0}}),Object(a.jsx)("input",{id:"uploadButton",type:"file",style:{visibility:"hidden"},onChange:this.newFileCallback.bind(this)})]})}}]),n}(o.Component),E=function(e){Object(c.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).rootDiv=null,a.controllerDiv=null,a.geometry=null,a.material=null,a.current_obj=null,a.scene=null,a.renderer=null,a.paramObj={bg_color:0,camera_z:5,point_radius:.004,materialColor:4286945},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=new h.L;t.setSize(window.innerWidth,window.innerHeight),t.setClearColor(this.paramObj.bg_color,1),this.rootDiv.appendChild(t.domElement),this.renderer=t;var n=new h.y(45,window.innerWidth/window.innerHeight,.1,1e3);n.position.set(2,5,this.paramObj.camera_z),n.lookAt(0,0,0);var a=new h.E;this.scene=a,this.geometry=new h.m(this.paramObj.point_radius,3),this.material=new h.x({color:this.paramObj.materialColor}),a.add(new h.a(16777215));var o=new h.b(2e3);a.add(o);var i=new j.a(n,t.domElement);!function e(){requestAnimationFrame(e),i.update(),n.updateProjectionMatrix(),t.render(a,n)}(),fetch("./pointcloud/vase.txt").then((function(e){return e.text()})).then((function(t){var n=e.parseContent(t);e.showPointCloud(n)}));var r=new m.a.gui.GUI({autoPlace:!1}),d=r.addFolder("camera projection");d.add(n,"fov").min(30).max(120).step(5),d.open();var l=r.addFolder("object");l.addColor(this.paramObj,"materialColor").name("point color").onChange(function(e){this.material.color.set(e)}.bind(this)),l.addColor(this.paramObj,"bg_color").name("bg color").onChange(function(e){this.renderer.setClearColor(e,1)}.bind(this)),l.open();var s=r.addFolder("axes");s.add(o,"visible"),s.open();var c=r.addFolder("upload"),p={loadFile:function(){document.getElementById("uploadButton").click()}};c.add(p,"loadFile").name("Load obj file"),c.open(),this.controllerDiv.append(r.domElement)}},{key:"loadtxt",value:function(e,t){var n=new FileReader;n.onload=function(e){var n=e.target.result,a=this.parseContent(n);t(a)}.bind(this),n.readAsText(e)}},{key:"showPointCloud",value:function(e){this.current_obj&&this.scene.remove(this.current_obj);for(var t=new h.n(this.geometry,this.material,e.length),n=new h.u,a=0;a<e.length;a++)n.setPosition(e[a][0],e[a][1],e[a][2]),t.setMatrixAt(a,n);this.scene.add(t),this.current_obj=t}},{key:"parseContent",value:function(e){var t,n,a=e.split("\n"),o=a[0];if(t=this.parseLine(o)){n=t.length;for(var i,r,d,l,s,c,p,u,h,m,b,v,j=[],f=0;f<a.length;f++)(t=this.parseLine(a[f]))&&t.length===n&&j.push(t);i=j[0][0],r=j[0][1],d=j[0][2],l=j[0][0],s=j[0][1],c=j[0][2],p=0,u=0,h=0;for(var w=0;w<j.length;w++)i<j[w][0]&&(i=j[w][0]),l>j[w][0]&&(l=j[w][0]),p+=j[w][0],r<j[w][1]&&(r=j[w][1]),s>j[w][1]&&(s=j[w][1]),u+=j[w][1],d<j[w][2]&&(d=j[w][2]),c>j[w][2]&&(c=j[w][2]),h+=j[w][2];m=p/j.length,b=u/j.length,v=h/j.length;var g=i-l;g=(g=(g=g?g>=r-s:r-s)?g>=d-c:d-c)?g>0:1;for(var O=0;O<j.length;O++)j[O][0]=(j[O][0]-m)/g,j[O][1]=(j[O][1]-b)/g,j[O][2]=(j[O][2]-v)/g;return j}alert("Parse Error")}},{key:"parseLine",value:function(e){if(!e)return null;for(var t=[" ",",",", "],n=0;n<t.length;n++){var a=e.split(t[n]);if(3===a.length||6===a.length){for(var o=0;o<a.length;o++)a[o]=parseFloat(a[o]);return a}}return null}},{key:"handlerFileSelected",value:function(e){if(e.target.files&&e.target.files[0]){var t=e.target.files[0];this.loadtxt(t,this.showPointCloud.bind(this))}else alert("No file uploaded")}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{style:{position:"absolute",top:0},children:[Object(a.jsx)("div",{ref:function(t){return e.rootDiv=t}}),Object(a.jsx)("div",{ref:function(t){return e.controllerDiv=t},style:{position:"absolute",right:0,top:0}}),Object(a.jsx)("input",{id:"uploadButton",type:"file",style:{visibility:"hidden"},onChange:this.handlerFileSelected.bind(this)})]})}}]),n}(o.Component),L=function(e){Object(c.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{children:Object(a.jsxs)(u.c,{children:[Object(a.jsx)(u.a,{exact:!0,path:"/",component:F}),Object(a.jsx)(u.a,{path:"/cube",component:v}),Object(a.jsx)(u.a,{path:"/earth",component:f}),Object(a.jsx)(u.a,{path:"/airplane",component:k}),Object(a.jsx)(u.a,{path:"/pointcloud",component:E})]})})}}]),n}(o.Component),P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,75)).then((function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),o(e),i(e),r(e)}))};d.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(O.a,{basename:window.location.pathname,children:Object(a.jsx)(L,{})})}),document.getElementById("root")),P()}},[[54,1,2]]]);