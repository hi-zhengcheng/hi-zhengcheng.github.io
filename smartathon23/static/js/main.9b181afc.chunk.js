(this.webpackJsonpthree=this.webpackJsonpthree||[]).push([[0],{39:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);var a=n(2),i=n(0),r=n.n(i),c=n(17),o=n.n(c),s=(n(50),n(10)),l=n(5),h=n(13),d=n(12),b=n(7),j=n(84),f=n(16),x=(n(51),function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e){return Object(s.a)(this,n),t.call(this,e)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{className:"root",children:[Object(a.jsx)("h1",{children:"Demo page for Smartathon23"}),Object(a.jsx)(j.a,{component:f.b,to:"/public",size:"large",variant:"contained",color:"primary",style:{textTransform:"none",margin:"16px"},children:"Show our system workflow"})]})}}]),n}(i.Component)),u=(n(39),function(){function e(){Object(s.a)(this,e)}return Object(l.a)(e,null,[{key:"setSelectedImgIdx",value:function(e){this.selectedImgIdx=e}}]),e}());u.imgList=["99a6e3e8eea5c7d137fb239b9f7f42fa.jpg","98e2a0cb28f1f6bd3dc03bbb4871a569.jpg","98b2ebb8eff0ac1b5480a5e34dfd541d.jpg"],u.bbxList=[[["GARBAGE",1386,484,196,142,1920,1080],["GARBAGE",1526,498,268,128,,1920,1080]],[["CONSTRUCTION_ROAD",1330,276,420,208,1920,1080],["CONSTRUCTION_ROAD",946,296,288,188,1920,1080],["CONSTRUCTION_ROAD",688,284,370,238,1920,1080],["CONSTRUCTION_ROAD",0,182,694,460,1920,1080],["CONSTRUCTION_ROAD",410,310,486,248,1920,1080],["GARBAGE",1738,394,130,114,1920,1080]],[["POTHOLES",842,470,166,196,1920,1080],["POTHOLES",772,564,248,468,1920,1080]]],u.selectedImgIdx=-1;var m=u,O=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={idx:0},m.setSelectedImgIdx(a.state.idx),a}return Object(l.a)(n,[{key:"click_retake",value:function(){var e=(this.state.idx+1)%m.imgList.length;m.setSelectedImgIdx(e),this.setState({idx:e})}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{className:"root",children:[Object(a.jsx)("h1",{children:"Public Page"}),Object(a.jsx)("img",{style:{maxWidth:"min(100%, 1000px)",height:"auto"},src:"./imgs/".concat(m.imgList[this.state.idx])}),Object(a.jsx)(j.a,{size:"large",variant:"contained",color:"primary",style:{textTransform:"none",marginTop:"32px",width:"100%",maxWidth:"500px"},onClick:function(){e.click_retake()},children:"Retake"}),Object(a.jsx)(j.a,{component:f.b,to:"/detect-result",size:"large",variant:"contained",color:"primary",style:{textTransform:"none",marginTop:"32px",width:"100%",maxWidth:"500px"},children:"Next"})]})}}]),n}(i.Component),g=n(22),p=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).canvasRef=r.a.createRef(),a.imgRef=r.a.createRef(),a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this.canvasRef.current.getContext("2d"),t=this.imgRef.current;t.onload=function(){e.drawImage(t,0,0);for(var n=m.bbxList[m.selectedImgIdx],a=0;a<n.length;a++){var i=n[a],r=i[0];console.log(i),e.beginPath(),e.lineWidth="3",e.strokeStyle="#eb612dff",e.rect(i[1],i[2],i[3],i[4]),e.font="20px Arial";var c=e.measureText(r);e.fillStyle="black",e.fillRect(i[1],i[2],c.width+6,parseInt(e.font,10)+6),e.fillStyle="white",e.fillText(r,i[1]+2,i[2]+20),e.stroke()}}}},{key:"render",value:function(){for(var e=m.bbxList[m.selectedImgIdx],t={},n=0;n<e.length;n++)e[n][0]in t?t[e[n][0]]+=1:t[e[n][0]]=1;for(var i=[],r=0,c=Object.entries(t);r<c.length;r++){var o=Object(g.a)(c[r],2),s=o[0],l=o[1];i.push(Object(a.jsxs)("li",{children:[s,": ",l]},s))}return Object(a.jsxs)("div",{className:"root",children:[Object(a.jsx)("h1",{children:"Detection Result"}),Object(a.jsx)("canvas",{ref:this.canvasRef,width:1920,height:1080,style:{maxWidth:"min(100%, 1000px)",height:"auto"}}),Object(a.jsx)("img",{ref:this.imgRef,style:{maxWidth:"100%",height:"auto",display:"none"},src:"./imgs/".concat(m.imgList[m.selectedImgIdx])}),Object(a.jsx)(j.a,{size:"large",variant:"contained",color:"primary",style:{textTransform:"none",marginTop:"32px",width:"100%",maxWidth:"500px"},children:"Type of pollution"}),Object(a.jsx)("ul",{style:{textAlign:"left"},children:i}),Object(a.jsx)(j.a,{component:f.b,to:"/operator",size:"large",variant:"contained",color:"primary",style:{textTransform:"none",marginTop:"32px",width:"100%",maxWidth:"500px"},children:"Send to operator"})]})}}]),n}(i.Component),v=(n(57),function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).canvasRef=r.a.createRef(),a.imgRef=r.a.createRef(),a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this.canvasRef.current.getContext("2d"),t=this.imgRef.current;t.onload=function(){e.drawImage(t,0,0);for(var n=m.bbxList[m.selectedImgIdx],a=0;a<n.length;a++){var i=n[a],r=i[0];console.log(i),e.beginPath(),e.lineWidth="3",e.strokeStyle="#eb612dff",e.rect(i[1],i[2],i[3],i[4]),e.font="20px Arial";var c=e.measureText(r);e.fillStyle="black",e.fillRect(i[1],i[2],c.width+6,parseInt(e.font,10)+6),e.fillStyle="white",e.fillText(r,i[1]+2,i[2]+20),e.stroke()}}}},{key:"render",value:function(){return Object(a.jsxs)("div",{className:"root",children:[Object(a.jsx)("h1",{children:"Operator Page"}),Object(a.jsx)("canvas",{ref:this.canvasRef,width:1920,height:1080,style:{maxWidth:"min(100%, 1000px)",height:"auto"}}),Object(a.jsx)("img",{ref:this.imgRef,style:{maxWidth:"100%",height:"auto",display:"none"},src:"./imgs/".concat(m.imgList[m.selectedImgIdx])}),Object(a.jsxs)("div",{style:{marginTop:"32px"},children:[Object(a.jsx)(j.a,{size:"large",variant:"contained",color:"secondary",style:{textTransform:"none",width:"40vw",maxWidth:"400px",marginRight:"16px"},children:"False Report"}),Object(a.jsx)(j.a,{component:f.b,to:"/worker",size:"large",variant:"contained",color:"primary",style:{textTransform:"none",width:"40vw",maxWidth:"400px"},children:"Send to Workers"})]})]})}}]),n}(i.Component)),y=(n(58),n(59),n(82)),R=n(83),k=n(29),w=n(21),T=n(85),C=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={open:!1,msg:""},a.handleClose=a.handleClose.bind(Object(w.a)(a)),a}return Object(l.a)(n,[{key:"showMsg",value:function(e){this.setState(Object(k.a)(Object(k.a)({},this.state),{},{open:!0,msg:e}))}},{key:"handleClose",value:function(e,t){"clickaway"!==t&&this.setState(Object(k.a)(Object(k.a)({},this.state),{},{open:!1,msg:""}))}},{key:"render",value:function(){return Object(a.jsx)(T.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:this.state.open,onClose:this.handleClose,message:this.state.msg,autoHideDuration:2e3},this.state.vertical+this.state.horizontal)}}]),n}(i.Component),I=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).canvasRef=r.a.createRef(),a.imgRef=r.a.createRef(),a.snackbarRef=r.a.createRef(),a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.canvasRef.current.getContext("2d"),n=this.imgRef.current;n.onload=function(){t.drawImage(n,0,0);for(var a=e.props.bbx,i=0;i<a.length;i++){var r=a[i],c=r[0];console.log(r),t.beginPath(),t.lineWidth="3",t.strokeStyle="#eb612dff",t.rect(r[1],r[2],r[3],r[4]),t.font="20px Arial";var o=t.measureText(c);t.fillStyle="black",t.fillRect(r[1],r[2],o.width+6,parseInt(t.font,10)+6),t.fillStyle="white",t.fillText(c,r[1]+2,r[2]+20),t.stroke()}}}},{key:"render",value:function(){for(var e=this,t=this.props.bbx,n={},i=0;i<t.length;i++)t[i][0]in n?n[t[i][0]]+=1:n[t[i][0]]=1;for(var r=[],c=0,o=Object.entries(n);c<o.length;c++){var s=Object(g.a)(o[c],2),l=s[0],h=s[1];r.push(Object(a.jsxs)("li",{children:[l,": ",h]},l))}return[Object(a.jsx)(y.a,{variant:"outlined",style:{backgroundColor:"white",marginTop:"16px"},children:Object(a.jsx)(R.a,{children:Object(a.jsxs)("div",{className:"worker_item_root",children:[Object(a.jsxs)("div",{className:"worker_item_row",children:[Object(a.jsx)("canvas",{ref:this.canvasRef,width:1920,height:1080,style:{width:"40%",height:"auto"}}),Object(a.jsx)("img",{ref:this.imgRef,src:this.props.img,style:{display:"none"}}),Object(a.jsxs)("div",{style:{width:"40%"},children:[Object(a.jsx)("div",{style:{fontWeight:"bold"},children:"Pollution Type"}),Object(a.jsx)("ul",{style:{textAlign:"left"},children:r})]}),Object(a.jsxs)("div",{style:{width:"20%"},children:[Object(a.jsx)("div",{style:{fontWeight:"bold"},children:"goLoc"}),Object(a.jsx)("div",{style:{marginTop:"14px"},children:"to be added..."})]})]}),Object(a.jsxs)("div",{style:{marginTop:"32px"},children:[Object(a.jsx)(j.a,{size:"large",variant:"contained",color:"secondary",style:{textTransform:"none",marginRight:"16px"},onClick:function(){e.snackbarRef.current.showMsg("False Reported")},children:"False Report"}),Object(a.jsx)(j.a,{size:"large",variant:"contained",color:"primary",style:{textTransform:"none"},onClick:function(){e.snackbarRef.current.showMsg("Fixed")},children:"Fixed"})]})]})})}),Object(a.jsx)(C,{ref:this.snackbarRef})]}}]),n}(i.Component),S=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e){return Object(s.a)(this,n),t.call(this,e)}return Object(l.a)(n,[{key:"render",value:function(){for(var e=[],t=0;t<m.imgList.length;t++)e.push(Object(a.jsx)(I,{bbx:m.bbxList[t],img:"./imgs/"+m.imgList[t],date:"2013-01-10, 10:10:12",loc:"KAUST"}));return Object(a.jsxs)("div",{className:"worker_root",style:{maxWidth:"min(100%, 1000px)"},children:[Object(a.jsx)("h1",{children:"Worker Page"}),e]})}}]),n}(i.Component),W=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{style:{height:"100vh",overflow:"auto"},children:Object(a.jsxs)(b.c,{children:[Object(a.jsx)(b.a,{exact:!0,path:"/",component:x}),Object(a.jsx)(b.a,{exact:!0,path:"/public",component:O}),Object(a.jsx)(b.a,{exact:!0,path:"/detect-result",component:p}),Object(a.jsx)(b.a,{exact:!0,path:"/operator",component:v}),Object(a.jsx)(b.a,{exact:!0,path:"/worker",component:S})]})})}}]),n}(i.Component),N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,87)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),i(e),r(e),c(e)}))};o.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(f.a,{basename:window.location.pathname,children:Object(a.jsx)(W,{})})}),document.getElementById("root")),N()}},[[60,1,2]]]);